# Процедура запуска автотестов

### Общая информация

Автотесты разработаны для исполнения в IDE Android Studio с использованием дополнительного ПО:
- Gradle (сборщик проектов),
- JUNIT4 (тестовый фреймворк),
- Espresso (тестовый фреймворк),
- Allure (библиотека генерации отчетности), 
- Git, GitHub (система контроля версий и репозиторий для их хранения),

После установки и запуска IDE при открытии проекта все необходимые библиотеки загрузятся автоматически, Git устанавливается и настраивается вручную.

Тестируемое приложение находится в папке _./app_,

### Расположение основных файлов:

_.\app\local.properties_ - локальные настройки, путь к расположению пакета SDK,

_.\app\_build.gradle_, _.\app\_gradle.properties_, _.\app\_settings.gradle_ - настройки Gradle,

_.\app\src\main_ - исходные файлы приложения,

_.\app\src\androidTest_ - папка с тестовыми классами,

### Структура тестовых и pageobject-классов:

_.\data\DataHelper.java_ - класс датахэлпера, для хранения и формирования часто используемых данных,

_.\pageobject\AboutScreen.java_ - класс для описания сущности экрана О приложении,

_.\pageobject\AppMain.java_ - класс для описания сущности всего приложения,

_.\pageobject\Dashboard.java_ - класс для описания сущности дашбоарда,

_.\pageobject\LoginScreen.java_ - класс для описания сущности экрана авторизации,

_.\pageobject\MainScreen.java_ - класс для описания сущности главного экрана,

_.\pageobject\MissionScreen.java_ - класс для описания сущности экрана Mission,

_.\pageobject\NewsControlPanel.java_ - класс для описания сущности панели управления новостями,

_.\pageobject\NewsScreen.java_ - класс для описания сущности экрана опубликованных новостей,

_.\test\AppMainTest.java_ - класс для тестирования общих функций приложения,

_.\test\AuthorizationTest.java_ - класс для тестирования экрана авторизации,

_.\test\BaseForTest.java_ - базовый класс с общими методами для остальных тестовых классов,

_.\test\DashboardTest.java_ - класс для тестирования дашбоарда,

_.\test\NewsControlPanelTest.java_ - класс для тестирования панели управления новостями,

_.\runner\UITestSuite.java_ - класс для одномоментного запуска всех тестов,
 
### Запуск автотестов:

Тесты запускаются либо по одному, либо наборами через тестовые классы _*Test.java_, при использовании класса _UITestSuite.java_ запустятся все автотесты проекта.
Чтобы запустить тест (или набор тестов) необходимо кликнуть правой кнопкой мыши на коде теста (или заголовке соответстующего класса) и выбрать в меню пункт _Run<название теста/класса>_ (или нажать Ctrl+Shift+F10)

![image.png](https://i.imgur.com/EDa6ZVY.png)


Тесты начнут работу и по истечении некоторого времени в нижней панели во вкладке _Run_ отобразится краткий итог - какие и сколько тестов прошли/не прошли.

![image.png](https://i.imgur.com/oFf2rr1.png)


### Формирование подробной отчетности:

При помощи библиотеки Allure формируется подробный отчет о тестировании, включающий тестовое окружение, описание тестов, разбивку по функциональности, пошаговый протокол и пр. Для этого в коде прописаны специальные аннотации. Чтобы получить подробный отчет Allure, необходимо после отработки тестов скопировать папку _.\data\data\ru.iteco.fmhandroid\files_ из эмулятора android на локальный диск тестирующего компьютера. Затем, находясь в скопированной папке, набрать в командной строке (можно использовать cmd.exe) команду "allure serve". Подробный отчет откроется в браузере (ссылка на zip)

![image.png](https://i.imgur.com/TWVJYTy.png)